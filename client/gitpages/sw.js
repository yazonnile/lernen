const e="app-lernen-1585582703454",t="/lernen/client/gitpages",s={index:`${t}/`,css:`${t}/index.css`,js:`${t}/index.js`};self.addEventListener("install",t=>{t.waitUntil(caches.open(e).then(e=>e.addAll([s.index,s.css,s.js])).catch(e=>{console.log("install",e)}))}),self.addEventListener("activate",t=>{t.waitUntil(caches.keys().then(t=>Promise.all(t.map(t=>{if(t!==e)return caches.delete(t)}))).catch(e=>{console.log("activate",e)}))});const n=e=>caches.match(e).then(t=>t||("GET"===e.method.toUpperCase()?caches.match(s.index):new Response(JSON.stringify({offline:{status:"error",text:"offline"}}),{headers:{"Content-Type":"application/json"}})));self.addEventListener("fetch",t=>{t.respondWith(fetch(t.request).then(s=>s?(caches.match(t.request).then(n=>{if(n){const n=s.clone();caches.open(e).then(e=>{e.put(t.request,n)})}}),s):n(t.request)).catch(()=>n(t.request)))});
